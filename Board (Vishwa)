class Board {
  Sword[] swords;
  //int score;
  boolean clear;
  String diff;
  int lev = 0;
  float robotAngle = 0;
  float robotSpeed = 0.01;

  Board(int swordCount /*might need parameters for level to display level text*/) {
    swords = new Sword[swordCount];
    score = 0;
    clear = false;

    for (int i=0; i < swordCount; i++)
      swords[i]=new Sword();
  }

  int getScore() {
    return score;
  }


  void Reset() {
    //Also need to display score screen
    score=0;
    clear = false;
  }

  void SetDifficulty(String difficulty) {
    diff=difficulty;
  }

  void IncreaseLev() {
    if (clear) {
      lev++;
      //Display level text
    }
  }

  void placeBomb() {
    //Need to check if previous sword has hit the robot. If it has, you can place a new sword.
    for (int i=0; i < swords.length; i++) {
      if (swords[i].getHit()) {
        swords[i].rotateSword();
      }
    }
  }

  void displayBoard(PImage img) {
    background(level);
    pushMatrix();
    rotate(robotAngle);
    imageMode(CENTER);
    image(img, 0, 0);
    robotAngle += robotSpeed;
    popMatrix();
  }
  
  void clicked(int c) {
    swords[c].shoot();
    //Temporary score counter for now; need to first check for collisions.
    score+=1;
  }
  
  void collisionCheck() {
    for (int i = 0; i < swords.length; i++) {
      if (swords[clickCount].getHit() && swords[i].getHit() && (i != clickCount)) {
        System.out.println("Current sword placed coordinates: X - " + swords[clickCount].getX() + ", Y - " + swords[clickCount].getY());
        System.out.println("Checking sword at i: X - " + swords[i].getX() + ", Y - " + swords[i].getY());
        System.out.println("Distance: " + dist(swords[i].getX(), swords[i].getY(), swords[clickCount].getX(), swords[clickCount].getY()));
        if (collided(swords[i].getX(), swords[i].getY(), swords[clickCount].getX(), swords[clickCount].getY())) {
          println("COLLIDED!");
          clear = true;
          //background(level);
        }
      }
    }
  }
  
  boolean collided(float x1, float y1, float x2, float y2) {
    if (dist(x1, y1, x2, y2) <= 1) {
      //System.out.println("Distance: " + dist(x1, y1, x2, y2));
      System.out.println("COLLIDED!");
      return true;
    }
  println(x1, x2 ,y1,y2);
      
    return false;
  }
}
